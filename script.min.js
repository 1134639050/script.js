/*
 * $script.js v 1.0
 * http://dustindiaz.com/scriptjs
 * Copyright: Dustin Diaz 2011
 * License: Creative Commons Attribution: http://creativecommons.org/licenses/by/3.0/
 */
(function(i,o){var m=o.getElementsByTagName("script")[0],k={},a={},g={},q=function(){},j=false,c={},r="string",b,e,h=function(){return Array.every||function(f,u){for(var t=0,s=f.length;t<s;++t){if(!u(f[t],t,f)){return 0}}return 1}}(),n=function(f,s){h(f,function(v,u,t){s(v,u,t);return 1})},d=function(){(!e&&b)&&p()};if(!o.readyState&&o.addEventListener){o.addEventListener("DOMContentLoaded",function l(){o.removeEventListener("DOMContentLoaded",l,j);o.readyState="complete"},j);o.readyState="loading"}i.$script=function(v,s,u){var t=typeof s=="function"?s:(u||q),v=typeof v==r?[v]:v,x=typeof s==r?s:v.join(""),f=v.length,w=function(){if(!--f){k[x]=1;t();for(dset in g){h(dset.split("|"),function(y){return(y in k)})&&h(g[dset],function(y){y();g[dset].shift()})}d()}};if(a[x]){return}n(v,function(A){if(c[A]){return}else{c[A]=a[x]=1}var z=o.createElement("script"),y=0;setTimeout(function(){z.onload=z.onreadystatechange=function(){if((z.readyState&&!(/loaded|complete/.test(z.readyState)))||y){return}z.onload=z.onreadystatechange=null;y=1;w()};z.async=1;z.src=A;m.parentNode.insertBefore(z,m)},30)});return i};$script.ready=function(u,s,t){t=t||q;u=(typeof u==r)?[u]:u;var f=[];!n(u,function(v){(k[v])||f.push(v)})&&h(u,function(v){return(k[v])})?s():(function(v){g[v]=g[v]||[];g[v].push(s);t(f)}(u.join("|")));return $script};function p(){var f=o.createEvent("HTMLEvents");f.initEvent("DOMContentLoaded",true,j);o.dispatchEvent(f)}setTimeout(function(){b=o.readyState.match(/loaded|complete/)||!setTimeout(arguments.callee,1)},1);$script.done=function(){e=1}}(window,document));