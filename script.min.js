/*
 * $script.js v 1.0
 * http://dustindiaz.com/scriptjs
 * Copyright: Dustin Diaz 2011
 * License: Creative Commons Attribution: http://creativecommons.org/licenses/by/3.0/
 */
(function(e,k){var i=k.getElementsByTagName("script")[0],g={},a={},c={},l=function(){},b={},m="string",d=function(){return Array.every||function(n,q){for(var p=0,o=n.length;p<o;++p){if(!q(n[p],p,n)){return 0}}return 1}}(),j=function(n,o){d(n,function(r,q,p){o(r,q,p);return 1})};if(!k.readyState&&k.addEventListener){k.addEventListener("DOMContentLoaded",function h(){k.removeEventListener("DOMContentLoaded",h,f);k.readyState="complete"},f);k.readyState="loading"}e.$script=function(r,o,q){var p=typeof o=="function"?o:(q||l),r=typeof r==m?[r]:r,t=typeof o==m?o:r.join(""),n=r.length,s=function(){if(!--n){g[t]=1;p();for(dset in c){d(dset.split("|"),function(u){return(u in g)})&&d(c[dset],function(u){u();c[dset].shift()})}}};if(a[t]){return}j(r,function(w){if(b[w]){return}else{b[w]=a[t]=1}var v=k.createElement("script"),u=0;setTimeout(function(){v.onload=v.onreadystatechange=function(){if((v.readyState&&!(/loaded|complete/.test(v.readyState)))||u){return}v.onload=v.onreadystatechange=null;u=1;s()};v.async=1;v.src=w;i.parentNode.insertBefore(v,i)},20)});return e};$script.ready=function(q,o,p){p=p||l;q=(typeof q==m)?[q]:q;var n=[];!j(q,function(r){(g[r])||n.push(r)})&&d(q,function(r){return(g[r])})?o():(function(r){c[r]=c[r]||[];c[r].push(o);p(n)}(q.join("|")));return $script}}(window,document));